<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GoldEnergy ‚Äî Faturas</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;1,400&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="styles.css"/>
  <style>
    .faturas-hero {
      background: linear-gradient(135deg, var(--navy-dark) 0%, var(--navy-mid) 100%);
      margin: 16px; border-radius: 20px; padding: 18px;
      animation: fadeUp 0.4s ease both;
    }
    .faturas-hero h3 {
      font-family: 'Syne', sans-serif; font-size: 13px; font-weight: 700;
      color: rgba(255,255,255,0.65); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 10px;
    }
    .faturas-summary { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .fs-item { background: rgba(255,255,255,0.08); border-radius: 12px; padding: 12px; }
    .fs-item .fs-val { font-family: 'Syne', sans-serif; font-size: 22px; font-weight: 800; color: white; }
    .fs-item .fs-val small { font-size: 11px; font-weight: 500; }
    .fs-item .fs-lbl { font-size: 10px; color: rgba(255,255,255,0.55); margin-top: 2px; }

    .fatura-list {
      background: white; border-radius: 16px;
      margin: 0 16px; overflow: hidden;
      box-shadow: 0 2px 12px rgba(26,46,74,0.07);
      animation: fadeUp 0.4s ease both 0.05s;
    }
    .fatura-item {
      display: flex; align-items: center; padding: 14px 16px;
      border-bottom: 1px solid rgba(26,46,74,0.05); cursor: pointer;
      transition: background 0.15s;
    }
    .fatura-item:last-child { border-bottom: none; }
    .fatura-item:hover { background: #f8fafc; }
    .fatura-item:active { background: var(--green-light); }

    .fi-icon {
      width: 38px; height: 38px; border-radius: 10px;
      display: flex; align-items: center; justify-content: center;
      font-size: 18px; flex-shrink: 0; margin-right: 12px;
    }
    .fi-icon.paga { background: var(--green-light); }
    .fi-icon.pendente { background: #fff3cd; }
    .fi-icon.vencida { background: #fee2e2; }

    .fi-body { flex: 1; }
    .fi-mes { font-family: 'Syne', sans-serif; font-size: 14px; font-weight: 700; color: var(--text); }
    .fi-data { font-size: 11px; color: var(--text-muted); margin-top: 1px; }
    .fi-right { text-align: right; }
    .fi-valor { font-family: 'Syne', sans-serif; font-size: 15px; font-weight: 800; color: var(--text); }
    .fi-status {
      font-size: 9px; font-weight: 700; padding: 2px 7px;
      border-radius: 20px; margin-top: 3px; display: inline-block; letter-spacing: 0.04em;
    }
    .fi-status.paga { background: var(--green-light); color: var(--green-dark); }
    .fi-status.pendente { background: #fff3cd; color: #a07000; }
    .fi-status.vencida { background: #fee2e2; color: #b91c1c; }

    .fatura-detail-card {
      background: white; border-radius: 16px;
      margin: 12px 16px 20px; padding: 16px;
      box-shadow: 0 2px 12px rgba(26,46,74,0.07);
      animation: fadeUp 0.4s ease both 0.1s;
    }
    .fatura-detail-card h4 {
      font-family: 'Syne', sans-serif; font-size: 12px; font-weight: 700;
      color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 12px;
    }
    .detail-row {
      display: flex; justify-content: space-between; align-items: center;
      padding: 8px 0; border-bottom: 1px solid rgba(26,46,74,0.05);
    }
    .detail-row:last-child { border-bottom: none; }
    .detail-row .dr-label { font-size: 12px; color: var(--text-muted); }
    .detail-row .dr-value { font-family: 'Syne', sans-serif; font-size: 13px; font-weight: 700; color: var(--text); }
    .detail-row .dr-value.green { color: var(--green-dark); }

    .filter-tabs {
      display: flex; gap: 8px; margin: 0 16px 12px;
      overflow-x: auto; scroll-behavior: smooth;
    }
    .filter-tabs::-webkit-scrollbar { display: none; }
    .filter-tab {
      padding: 8px 16px; border-radius: 20px;
      background: rgba(26,46,74,0.05); color: var(--text-muted);
      font-size: 12px; font-weight: 600; white-space: nowrap;
      cursor: pointer; transition: all 0.2s;
      border: 1px solid transparent;
    }
    .filter-tab.active {
      background: var(--green); color: white;
      border-color: var(--green-dark);
    }

    .stats-grid {
      display: grid; grid-template-columns: 1fr 1fr;
      gap: 10px; margin: 0 16px 12px;
    }
    .stat-box {
      background: white; border-radius: 12px;
      padding: 12px; box-shadow: 0 2px 8px rgba(26,46,74,0.05);
      animation: fadeUp 0.4s ease both;
    }
    .stat-box .sb-label { font-size: 10px; color: var(--text-muted); text-transform: uppercase; }
    .stat-box .sb-value { font-family: 'Syne', sans-serif; font-size: 18px; font-weight: 800; color: var(--text); margin-top: 4px; }
    .stat-box .sb-change { font-size: 10px; margin-top: 3px; }
    .stat-box .sb-change.up { color: #dc2626; }
    .stat-box .sb-change.down { color: var(--green-dark); }

    .consumo-chart {
      background: white; border-radius: 16px;
      margin: 12px 16px; padding: 14px;
      box-shadow: 0 2px 12px rgba(26,46,74,0.07);
      animation: fadeUp 0.4s ease both 0.08s;
    }
    .consumo-chart h4 {
      font-family: 'Syne', sans-serif; font-size: 12px; font-weight: 700;
      color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 12px;
    }
    .chart-container {
      display: flex; align-items: flex-end; gap: 8px; height: 120px;
      justify-content: space-around; margin-bottom: 12px; padding: 0 4px;
    }
    .chart-bar-wrapper {
      flex: 1; display: flex; flex-direction: column; align-items: center;
      position: relative; min-width: 30px;
    }
    .chart-bar {
      width: 100%; min-height: 10px; background: linear-gradient(180deg, #2DDBA4 0%, #1a8f63 100%);
      border-radius: 3px 3px 0 0; position: relative; transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(45, 219, 164, 0.2);
      cursor: pointer;
    }
    .chart-bar:hover {
      filter: brightness(1.15);
      box-shadow: 0 4px 12px rgba(45, 219, 164, 0.5);
      z-index: 10;
    }
    .chart-bar.secondary {
      background: rgba(26, 46, 74, 0.15);
      box-shadow: 0 1px 4px rgba(26, 46, 74, 0.1);
    }
    .chart-bar.secondary:hover {
      background: rgba(26, 46, 74, 0.25);
    }
    .chart-bar-value {
      font-size: 8px; font-weight: 700; color: var(--text);
      position: absolute; top: -16px; left: 50%; transform: translateX(-50%);
      white-space: nowrap; background: white; padding: 2px 4px; border-radius: 3px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .chart-label {
      font-size: 10px; color: var(--text-muted); text-align: center; margin-top: 6px;
      font-weight: 500;
    }

    .fatura-item.urgent {
      border-left: 3px solid #dc2626;
      background: #fef2f2;
    }

    .btn-pay {
      background: var(--green); color: white;
      padding: 12px 16px; border-radius: 12px;
      font-weight: 600; margin-top: 12px; width: 100%;
      border: none; cursor: pointer; transition: all 0.2s;
      font-family: 'Syne', sans-serif;
    }
    .btn-pay:hover { background: var(--green-dark); }

    .consumo-detalhes {
      background: white; border-radius: 16px;
      margin: 12px 16px 20px; padding: 14px;
      box-shadow: 0 2px 12px rgba(26,46,74,0.07);
      animation: fadeUp 0.4s ease both 0.12s;
    }
    .consumo-detalhes h4 {
      font-family: 'Syne', sans-serif; font-size: 12px; font-weight: 700;
      color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 12px;
    }
    .detalhe-item {
      display: flex; justify-content: space-between; align-items: center;
      padding: 8px 0; border-bottom: 1px solid rgba(26,46,74,0.05);
    }
    .detalhe-item:last-child { border-bottom: none; }
    .di-label { font-size: 12px; color: var(--text); }
    .di-value { font-family: 'Syne', sans-serif; font-size: 12px; font-weight: 700; color: var(--text); }
  </style>
  <script>
    // Dados de consumo dos √∫ltimos 6 meses
    const consumoData = [
      { mes: 'Set', valor: 245 },
      { mes: 'Out', valor: 268 },
      { mes: 'Nov', valor: 289 },
      { mes: 'Dez', valor: 310 },
      { mes: 'Jan', valor: 295 },
      { mes: 'Fev', valor: 287 }
    ];

    document.addEventListener('DOMContentLoaded', function() {
      // Gerar gr√°fico
      gerarGrafico();

      // Filtro de abas
      const filterTabs = document.querySelectorAll('.filter-tab');
      filterTabs.forEach(tab => {
        tab.addEventListener('click', function() {
          filterTabs.forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          
          const filterText = this.textContent.trim();
          const items = document.querySelectorAll('.fatura-item');
          
          items.forEach(item => {
            const hasPaga = item.querySelector('.fi-status.paga');
            const hasPendente = item.querySelector('.fi-status.pendente');
            const hasVencida = item.querySelector('.fi-status.vencida');
            
            if (filterText.includes('Todas')) {
              item.style.display = 'flex';
            } else if (filterText.includes('Pagas') && hasPaga) {
              item.style.display = 'flex';
            } else if (filterText.includes('Pendentes') && hasPendente) {
              item.style.display = 'flex';
            } else if (filterText.includes('Vencidas') && hasVencida) {
              item.style.display = 'flex';
            } else {
              item.style.display = 'none';
            }
          });
        });
      });

      // Bot√£o pagar fatura
      const btnPay = document.querySelector('.btn-pay');
      if (btnPay) {
        btnPay.addEventListener('click', function() {
          alert('Redirecionando para pagamento da fatura de 41,20‚Ç¨...\n\nEm produ√ß√£o, isto abriria um formul√°rio de pagamento seguro.');
        });
      }

      // Bot√£o descarregar PDF
      const btnPdf = document.querySelector('.btn-primary');
      if (btnPdf) {
        btnPdf.addEventListener('click', function() {
          alert('Descarregando PDF da fatura de Fevereiro 2026...\n\nEm produ√ß√£o, isto faria download do ficheiro PDF.');
        });
      }

      // Clique em item de fatura para expandir detalhes
      const faturaItems = document.querySelectorAll('.fatura-item:not(.urgent)');
      faturaItems.forEach(item => {
        item.style.cursor = 'pointer';
        item.addEventListener('click', function() {
          const mes = this.querySelector('.fi-mes').textContent;
          alert('Detalhes da fatura: ' + mes);
        });
      });
    });

    function gerarGrafico() {
      const container = document.getElementById('chartContainer');
      if (!container) {
        console.error('Container n√£o encontrado');
        return;
      }

      container.innerHTML = '';
      
      if (!consumoData || consumoData.length === 0) {
        console.error('Dados n√£o dispon√≠veis');
        return;
      }
      
      // Encontrar valor m√°ximo para escala
      const maxValor = Math.max(...consumoData.map(d => d.valor));
      const minAltura = 15; // altura m√≠nima em px
      const maxAltura = 100; // altura m√°xima em px
      
      // Criar barras
      consumoData.forEach((data, index) => {
        const percentagem = (data.valor / maxValor) * (maxAltura - minAltura) + minAltura;
        const ehAtual = index === consumoData.length - 1;
        
        const wrapper = document.createElement('div');
        wrapper.className = 'chart-bar-wrapper';
        
        const bar = document.createElement('div');
        bar.className = `chart-bar ${!ehAtual ? 'secondary' : ''}`;
        bar.style.height = percentagem + 'px';
        bar.style.minWidth = '25px';
        
        // Mostrar valor ao hover
        const showValue = () => {
          if (!bar.querySelector('.chart-bar-value')) {
            const value = document.createElement('div');
            value.className = 'chart-bar-value';
            value.textContent = data.valor + 'kWh';
            bar.appendChild(value);
          }
        };
        
        const hideValue = () => {
          const value = bar.querySelector('.chart-bar-value');
          if (value) value.remove();
        };
        
        bar.addEventListener('mouseenter', showValue);
        bar.addEventListener('mouseleave', hideValue);
        bar.addEventListener('touchstart', showValue);
        bar.addEventListener('touchend', hideValue);
        
        bar.addEventListener('click', function(e) {
          e.stopPropagation();
          alert(`Consumo em ${data.mes}: ${data.valor} kWh`);
        });
        
        const label = document.createElement('div');
        label.className = 'chart-label';
        label.textContent = data.mes;
        
        wrapper.appendChild(bar);
        wrapper.appendChild(label);
        container.appendChild(wrapper);
      });
    }
  </script>
</head>
<body>
<div class="phone">
  <div class="app-header">
    <div class="header-logo">
      <div class="logo-mark">G</div>
      <div class="logo-wordmark">
        <div class="top"><span>gold</span>energy</div>
        <div class="bottom">Eletricidade 100% Verde</div>
      </div>
    </div>
    <div class="header-right">
      <div class="header-time">17:08</div>
      <div class="header-notif">üîî<div class="notif-dot"></div></div>
    </div>
  </div>

  <div class="app-body">
    <div class="sidebar">
      <div class="nav-item" title="In√≠cio">üè†</div>
      <div class="nav-item" title="Score">üåø</div>
      <div class="nav-item" title="Solar">‚òÄÔ∏è</div>
      <div class="nav-item" title="Previs√£o">üìà</div>
      <div class="nav-divider"></div>
      <div class="nav-item active" title="Faturas">üßæ</div>
      <div class="nav-item" title="Contrato">üìÑ</div>
      <div class="sidebar-bottom"><div class="nav-item" title="Perfil">üë§</div></div>
    </div>

    <div class="content">
      <div class="page-titlebar">
        <a class="back-btn" href="index.html">‚Äπ</a>
        <div class="page-titlebar-text">
          <h2>Faturas</h2>
          <p>Consulta e hist√≥rico de faturas</p>
        </div>
        <div class="page-icon-btn">üîç</div>
      </div>

      <!-- FILTER TABS -->
      <div class="filter-tabs">
        <div class="filter-tab active">üìã Todas</div>
        <div class="filter-tab">‚úÖ Pagas</div>
        <div class="filter-tab">‚è≥ Pendentes</div>
        <div class="filter-tab">‚ö†Ô∏è Vencidas</div>
      </div>

      <!-- SUMMARY -->
      <div class="faturas-hero">
        <h3>Resumo 2026</h3>
        <div class="faturas-summary">
          <div class="fs-item">
            <div class="fs-val">246<small> ‚Ç¨</small></div>
            <div class="fs-lbl">Total pago</div>
          </div>
          <div class="fs-item">
            <div class="fs-val">41<small> ‚Ç¨</small></div>
            <div class="fs-lbl">√öltima fatura</div>
          </div>
          <div class="fs-item">
            <div class="fs-val">287<small> kWh</small></div>
            <div class="fs-lbl">Consumo m√©dio</div>
          </div>
          <div class="fs-item">
            <div class="fs-val">0<small> em d√≠vida</small></div>
            <div class="fs-lbl">Situa√ß√£o atual</div>
          </div>
        </div>
      </div>

      <!-- STATISTICS -->
      <div class="stats-grid">
        <div class="stat-box">
          <div class="sb-label">Consumo M√©dio</div>
          <div class="sb-value">287 kWh</div>
          <div class="sb-change down">üìâ -12% vs anterior</div>
        </div>
        <div class="stat-box">
          <div class="sb-label">Custo M√©dio</div>
          <div class="sb-value">41,30 ‚Ç¨</div>
          <div class="sb-change down">üìâ -8% vs anterior</div>
        </div>
        <div class="stat-box">
          <div class="sb-label">Pr√≥xima Fatura</div>
          <div class="sb-value">15 Mar</div>
          <div class="sb-change">em 20 dias</div>
        </div>
        <div class="stat-box">
          <div class="sb-label">Poupan√ßa Verde</div>
          <div class="sb-value">12,00 ‚Ç¨</div>
          <div class="sb-change down">‚úÖ neste m√™s</div>
        </div>
      </div>

      <!-- CONSUMPTION CHART -->
      <div class="consumo-chart">
        <h4>Evolu√ß√£o de Consumo (kWh)</h4>
        <div class="chart-container" id="chartContainer">
          <!-- Barras ser√£o geradas por JavaScript -->
        </div>
      </div>

      <!-- FATURA LIST -->
      <div class="section-hdr"><h4>Hist√≥rico</h4><span>2026</span></div>
      <div class="fatura-list">
        <div class="fatura-item urgent">
          <div class="fi-icon pendente">üßæ</div>
          <div class="fi-body">
            <div class="fi-mes">Fevereiro 2026</div>
            <div class="fi-data">‚ö†Ô∏è Vence a 15 Mar 2026 (em 20 dias)</div>
          </div>
          <div class="fi-right">
            <div class="fi-valor">41,20 ‚Ç¨</div>
            <div class="fi-status pendente">Pendente</div>
          </div>
        </div>
        <div class="fatura-item">
          <div class="fi-icon vencida">üßæ</div>
          <div class="fi-body">
            <div class="fi-mes">Agosto 2025</div>
            <div class="fi-data">‚õî Vencida a 14 Set 2025</div>
          </div>
          <div class="fi-right">
            <div class="fi-valor">39,50 ‚Ç¨</div>
            <div class="fi-status vencida">Vencida</div>
          </div>
        </div>
        <div class="fatura-item">
          <div class="fi-icon paga">üßæ</div>
          <div class="fi-body">
            <div class="fi-mes">Janeiro 2026</div>
            <div class="fi-data">Paga a 12 Fev 2026</div>
          </div>
          <div class="fi-right">
            <div class="fi-valor">38,90 ‚Ç¨</div>
            <div class="fi-status paga">Paga</div>
          </div>
        </div>
        <div class="fatura-item">
          <div class="fi-icon paga">üßæ</div>
          <div class="fi-body">
            <div class="fi-mes">Dezembro 2025</div>
            <div class="fi-data">Paga a 14 Jan 2026</div>
          </div>
          <div class="fi-right">
            <div class="fi-valor">52,10 ‚Ç¨</div>
            <div class="fi-status paga">Paga</div>
          </div>
        </div>
        <div class="fatura-item">
          <div class="fi-icon paga">üßæ</div>
          <div class="fi-body">
            <div class="fi-mes">Novembro 2025</div>
            <div class="fi-data">Paga a 13 Dez 2025</div>
          </div>
          <div class="fi-right">
            <div class="fi-valor">44,70 ‚Ç¨</div>
            <div class="fi-status paga">Paga</div>
          </div>
        </div>
        <div class="fatura-item">
          <div class="fi-icon paga">üßæ</div>
          <div class="fi-body">
            <div class="fi-mes">Outubro 2025</div>
            <div class="fi-data">Paga a 15 Nov 2025</div>
          </div>
          <div class="fi-right">
            <div class="fi-valor">36,50 ‚Ç¨</div>
            <div class="fi-status paga">Paga</div>
          </div>
        </div>
        <div class="fatura-item">
          <div class="fi-icon paga">üßæ</div>
          <div class="fi-body">
            <div class="fi-mes">Setembro 2025</div>
            <div class="fi-data">Paga a 14 Out 2025</div>
          </div>
          <div class="fi-right">
            <div class="fi-valor">33,80 ‚Ç¨</div>
            <div class="fi-status paga">Paga</div>
          </div>
        </div>
      </div>

      <!-- DETAIL CARD -->
      <div class="section-hdr" style="padding-top:14px;"><h4>Detalhe ‚Äî Fev 2026</h4></div>
      <div class="fatura-detail-card">
        <h4>Composi√ß√£o da fatura</h4>
        <div class="detail-row">
          <div class="dr-label">Energia consumida</div>
          <div class="dr-value">287 kWh</div>
        </div>
        <div class="detail-row">
          <div class="dr-label">Custo energia</div>
          <div class="dr-value">32,40 ‚Ç¨</div>
        </div>
        <div class="detail-row">
          <div class="dr-label">Redes e distribui√ß√£o</div>
          <div class="dr-value">5,20 ‚Ç¨</div>
        </div>
        <div class="detail-row">
          <div class="dr-label">Impostos (IVA 6%)</div>
          <div class="dr-value">3,60 ‚Ç¨</div>
        </div>
        <div class="detail-row">
          <div class="dr-label">Desconto verde</div>
          <div class="dr-value green">-2,00 ‚Ç¨</div>
        </div>
        <div class="detail-row">
          <div class="dr-label" style="font-weight:700; color:var(--text);">Total</div>
          <div class="dr-value" style="font-size:16px;">41,20 ‚Ç¨</div>
        </div>
        <button class="btn-primary" style="margin-top:14px;">‚¨áÔ∏è Descarregar PDF</button>
      </div>

      <!-- CONSUMPTION DETAILS -->
      <div class="section-hdr" style="padding-top:14px;"><h4>An√°lise de Consumo ‚Äî Fev 2026</h4></div>
      <div class="consumo-detalhes">
        <h4>Dados de Consumo</h4>
        <div class="detalhe-item">
          <div class="di-label">Consumo total</div>
          <div class="di-value">287 kWh</div>
        </div>
        <div class="detalhe-item">
          <div class="di-label">Consumo m√©dio di√°rio</div>
          <div class="di-value">10.2 kWh</div>
        </div>
        <div class="detalhe-item">
          <div class="di-label">Consumo pico</div>
          <div class="di-value">15.4 kWh (19h-21h)</div>
        </div>
        <div class="detalhe-item">
          <div class="di-label">Consumo fora de pico</div>
          <div class="di-value">271.6 kWh (65%)</div>
        </div>
        <div class="detalhe-item">
          <div class="di-label">Custo m√©dio kWh</div>
          <div class="di-value">0.113 ‚Ç¨</div>
        </div>
        <div class="detalhe-item">
          <div class="di-label">Energia renov√°vel</div>
          <div class="di-value" style="color: var(--green-dark); font-weight: 800;">100% ‚úÖ</div>
        </div>
      </div>

      <!-- PAYMENT ACTION -->
      <div style="padding: 0 16px 20px;">
        <button class="btn-pay">üí≥ Pagar Fatura Pendente</button>
      </div>

    </div>
  </div>
</div>
</body>
</html>