<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GoldEnergy ‚Äî SolarMatch</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;1,400&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="styles.css"/>
  <style>
    /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
    .solar-hero {
      background: linear-gradient(135deg, #b45309 0%, #F5C842 100%);
      margin: 16px; border-radius: 20px; padding: 20px;
      display: flex; align-items: center; gap: 14px;
      animation: fadeUp 0.4s ease both;
    }
    .solar-hero-icon { font-size: 48px; flex-shrink: 0; }
    .solar-hero-text h3 { font-family: 'Syne', sans-serif; font-size: 16px; font-weight: 800; color: white; }
    .solar-hero-text p  { font-size: 11px; color: rgba(255,255,255,0.8); margin-top: 4px; line-height: 1.4; }

    /* ‚îÄ‚îÄ FORM CARD ‚îÄ‚îÄ */
    .form-card {
      background: white; border-radius: 16px;
      margin: 0 16px; padding: 16px;
      box-shadow: 0 2px 12px rgba(26,46,74,0.07);
      animation: fadeUp 0.4s ease both 0.05s;
    }
    .form-card h4 {
      font-family: 'Syne', sans-serif; font-size: 11px; font-weight: 700;
      color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 12px;
    }

    /* ‚îÄ‚îÄ MAPA SVG ‚îÄ‚îÄ */
    .mapa-card {
      background: white; border-radius: 16px;
      margin: 0 16px; padding: 14px;
      box-shadow: 0 2px 12px rgba(26,46,74,0.07);
      animation: fadeUp 0.4s ease both 0.06s;
    }
    .mapa-card h4 {
      font-family: 'Syne', sans-serif; font-size: 11px; font-weight: 700;
      color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 10px;
    }
    .mapa-wrap { display: flex; gap: 12px; align-items: center; }
    #portugal-map { width: 110px; flex-shrink: 0; cursor: pointer; }
    .regiao-path {
      fill: #e8f2ff; stroke: white; stroke-width: 1.5;
      transition: fill 0.2s; cursor: pointer;
    }
    .regiao-path:hover  { fill: #bfdbfe; }
    .regiao-path.selected { fill: #2DDBA4; }
    .mapa-legend { flex: 1; }
    .mapa-legend-item {
      display: flex; align-items: center; gap: 6px;
      margin-bottom: 5px; font-size: 11px; color: var(--text-muted);
      cursor: pointer;
    }
    .mapa-legend-item:hover { color: var(--text); }
    .mapa-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
    #map-selected-label {
      font-size: 11px; font-weight: 600; color: var(--green-dark);
      margin-top: 8px; min-height: 16px;
    }

    /* ‚îÄ‚îÄ B√öSSOLA ‚îÄ‚îÄ */
    .bussola-card {
      background: white; border-radius: 16px;
      margin: 0 16px; padding: 14px;
      box-shadow: 0 2px 12px rgba(26,46,74,0.07);
      animation: fadeUp 0.4s ease both 0.07s;
    }
    .bussola-card h4 {
      font-family: 'Syne', sans-serif; font-size: 11px; font-weight: 700;
      color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 10px;
    }
    .bussola-wrap { display: flex; align-items: center; gap: 14px; }
    #bussola-canvas { cursor: pointer; border-radius: 50%; }
    .bussola-info { flex: 1; }
    .bussola-info p { font-size: 11px; color: var(--text-muted); line-height: 1.5; }
    #orientacao-label {
      font-family: 'Syne', sans-serif; font-size: 12px; font-weight: 700;
      color: var(--green-dark); margin-top: 6px;
    }

    /* ‚îÄ‚îÄ RESULT SOLAR ‚îÄ‚îÄ */
    .result-solar {
      background: linear-gradient(135deg, #b45309 0%, #F5C842 100%);
      margin: 12px 16px 0; border-radius: 18px; padding: 16px;
      animation: fadeUp 0.4s ease both;
    }
    .result-solar h3 {
      font-family: 'Syne', sans-serif; font-size: 12px; font-weight: 700;
      color: rgba(255,255,255,0.8); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 10px;
    }
    .result-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    .result-item { background: rgba(255,255,255,0.2); border-radius: 10px; padding: 10px; }
    .result-item .r-val { font-family: 'Syne', sans-serif; font-size: 18px; font-weight: 800; color: white; }
    .result-item .r-lbl { font-size: 9px; color: rgba(255,255,255,0.75); margin-top: 2px; }

    /* ‚îÄ‚îÄ ROI CARD ‚îÄ‚îÄ */
    .roi-card {
      background: white; border-radius: 16px;
      margin: 10px 16px 0; padding: 14px;
      box-shadow: 0 2px 12px rgba(26,46,74,0.07);
    }
    .roi-card h4 {
      font-family: 'Syne', sans-serif; font-size: 11px; font-weight: 700;
      color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 10px;
    }
    .roi-row { display: flex; justify-content: space-between; align-items: center; padding: 7px 0; border-bottom: 1px solid rgba(26,46,74,0.05); }
    .roi-row:last-child { border-bottom: none; }
    .roi-label { font-size: 12px; color: var(--text-muted); }
    .roi-value { font-family: 'Syne', sans-serif; font-size: 13px; font-weight: 700; color: var(--text); }
    .roi-value.green { color: var(--green-dark); }

    /* ‚îÄ‚îÄ PAYBACK CHART ‚îÄ‚îÄ */
    .payback-card {
      background: white; border-radius: 16px;
      margin: 10px 16px 0; padding: 14px;
      box-shadow: 0 2px 12px rgba(26,46,74,0.07);
    }
    .payback-card h4 {
      font-family: 'Syne', sans-serif; font-size: 11px; font-weight: 700;
      color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 10px;
    }
    #payback-svg { width: 100%; height: 140px; display: block; overflow: visible; }
    .payback-legend { display: flex; gap: 14px; margin-top: 8px; }
    .payback-legend-item { display: flex; align-items: center; gap: 5px; font-size: 10px; color: var(--text-muted); }
    .legend-line { width: 16px; height: 2px; border-radius: 1px; }

    /* ‚îÄ‚îÄ CEN√ÅRIOS ‚îÄ‚îÄ */
    .cenarios-card {
      background: white; border-radius: 16px;
      margin: 10px 16px 0; padding: 14px;
      box-shadow: 0 2px 12px rgba(26,46,74,0.07);
    }
    .cenarios-card h4 {
      font-family: 'Syne', sans-serif; font-size: 11px; font-weight: 700;
      color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 10px;
    }
    #cenarios-container { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
    .cenario-card {
      border: 1.5px solid rgba(26,46,74,0.08); border-radius: 12px;
      padding: 10px; cursor: pointer; transition: all 0.2s;
      text-align: center;
    }
    .cenario-card:hover { border-color: var(--green); background: var(--green-light); }
    .cenario-card.ativo { border-color: var(--green); background: var(--green-light); }
    .cenario-label { font-size: 9px; font-weight: 700; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 4px; }
    .cenario-val { font-family: 'Syne', sans-serif; font-size: 18px; font-weight: 800; color: var(--text); line-height: 1; }
    .cenario-val small { font-size: 10px; font-weight: 500; color: var(--text-muted); }
    .cenario-poupanca { font-size: 10px; font-weight: 600; color: var(--green-dark); margin-top: 3px; }
    .cenario-bar-track { height: 4px; background: rgba(26,46,74,0.08); border-radius: 2px; margin: 6px 0 3px; overflow: hidden; }
    .cenario-bar-fill { height: 100%; background: var(--green); border-radius: 2px; transition: width 0.5s ease; }
    .cenario-sub { font-size: 9px; color: var(--text-muted); line-height: 1.3; }

    /* ‚îÄ‚îÄ SCORE DELTA ‚îÄ‚îÄ */
    .score-delta-banner {
      margin: 10px 16px 20px;
      background: linear-gradient(120deg, var(--green-dark), var(--green));
      border-radius: 14px; padding: 12px 16px;
      display: flex; align-items: center; gap: 10px;
    }
    .score-delta-banner span { font-family: 'Syne', sans-serif; font-size: 13px; font-weight: 700; color: white; }
  </style>
</head>
<body>
<div class="phone">
  <div class="app-header">
    <div class="header-logo">
      <div class="logo-mark">G</div>
      <div class="logo-wordmark">
        <div class="top"><span>gold</span>energy</div>
        <div class="bottom">Eletricidade 100% Verde</div>
      </div>
    </div>
    <div class="header-right">
      <div class="header-time">17:08</div>
      <div class="header-notif">üîî<div class="notif-dot"></div></div>
    </div>
  </div>

  <div class="app-body">
    <div class="sidebar">
      <div class="nav-item" title="In√≠cio">üè†</div>
      <div class="nav-item" title="Score">üåø</div>
      <div class="nav-item active" title="Solar">‚òÄÔ∏è</div>
      <div class="nav-item" title="Previs√£o">üìà</div>
      <div class="nav-divider"></div>
      <div class="nav-item" title="Faturas">üßæ</div>
      <div class="nav-item" title="Contrato">üìÑ</div>
      <div class="sidebar-bottom"><div class="nav-item" title="Perfil">üë§</div></div>
    </div>

    <div class="content">
      <div class="page-titlebar">
        <a class="back-btn" href="index.html">‚Äπ</a>
        <div class="page-titlebar-text">
          <h2>SolarMatch</h2>
          <p>Simulador de pain√©is solares</p>
        </div>
        <div class="page-icon-btn">‚ÑπÔ∏è</div>
      </div>

      <!-- HERO -->
      <div class="solar-hero">
        <div class="solar-hero-icon">‚òÄÔ∏è</div>
        <div class="solar-hero-text">
          <h3>Descobre o teu potencial solar</h3>
          <p>Preenche os dados da tua casa e obt√©m uma recomenda√ß√£o personalizada</p>
        </div>
      </div>

      <!-- MAPA DE PORTUGAL -->
      <div class="section-hdr" style="padding-top:14px;"><h4>Localiza√ß√£o</h4></div>
      <div class="mapa-card">
        <h4>Clica na tua regi√£o</h4>
        <div class="mapa-wrap">
          <svg id="portugal-map" viewBox="0 0 120 200" xmlns="http://www.w3.org/2000/svg">
            <!-- Norte -->
            <path class="regiao-path" data-regiao="norte"
              d="M20,10 L90,10 L95,15 L90,20 L85,30 L80,40 L70,45 L60,48 L50,45 L35,42 L20,38 L15,28 L18,18 Z"/>
            <!-- Centro -->
            <path class="regiao-path" data-regiao="centro"
              d="M20,38 L35,42 L50,45 L60,48 L70,45 L80,40 L85,55 L82,65 L78,75 L65,78 L50,80 L35,76 L22,70 L18,58 Z"/>
            <!-- Lisboa -->
            <path class="regiao-path" data-regiao="lisboa"
              d="M22,70 L35,76 L50,80 L65,78 L78,75 L80,88 L75,98 L60,102 L45,100 L30,95 L20,85 Z"/>
            <!-- Alentejo -->
            <path class="regiao-path" data-regiao="alentejo"
              d="M20,85 L30,95 L45,100 L60,102 L75,98 L80,112 L78,128 L65,134 L50,136 L35,130 L22,120 L18,105 Z"/>
            <!-- Algarve -->
            <path class="regiao-path" data-regiao="algarve"
              d="M22,120 L35,130 L50,136 L65,134 L78,128 L82,142 L70,150 L50,152 L30,148 L20,138 Z"/>
            <!-- Labels -->
            <text x="55" y="30" font-size="8" fill="rgba(26,46,74,0.6)" text-anchor="middle" font-family="DM Sans">Norte</text>
            <text x="52" y="62" font-size="8" fill="rgba(26,46,74,0.6)" text-anchor="middle" font-family="DM Sans">Centro</text>
            <text x="50" y="90" font-size="8" fill="rgba(26,46,74,0.6)" text-anchor="middle" font-family="DM Sans">Lisboa</text>
            <text x="50" y="115" font-size="8" fill="rgba(26,46,74,0.6)" text-anchor="middle" font-family="DM Sans">Alentejo</text>
            <text x="50" y="140" font-size="8" fill="rgba(26,46,74,0.6)" text-anchor="middle" font-family="DM Sans">Algarve</text>
          </svg>
          <div class="mapa-legend">
            <div class="mapa-legend-item"><div class="mapa-dot" style="background:#93c5fd;"></div>Norte ‚Äî 3.8h/dia</div>
            <div class="mapa-legend-item"><div class="mapa-dot" style="background:#60a5fa;"></div>Centro ‚Äî 4.2h/dia</div>
            <div class="mapa-legend-item"><div class="mapa-dot" style="background:#f59e0b;"></div>Lisboa ‚Äî 4.7h/dia</div>
            <div class="mapa-legend-item"><div class="mapa-dot" style="background:#f97316;"></div>Alentejo ‚Äî 5.0h/dia</div>
            <div class="mapa-legend-item"><div class="mapa-dot" style="background:#ef4444;"></div>Algarve ‚Äî 5.2h/dia</div>
            <div id="map-selected-label"></div>
          </div>
        </div>
      </div>

      <!-- B√öSSOLA DE ORIENTA√á√ÉO -->
      <div class="section-hdr" style="padding-top:12px;"><h4>Orienta√ß√£o do Telhado</h4></div>
      <div class="bussola-card">
        <h4>Clica para definir a orienta√ß√£o</h4>
        <div class="bussola-wrap">
          <canvas id="bussola-canvas" width="100" height="100"></canvas>
          <div class="bussola-info">
            <p>Clica no mapa da b√∫ssola para indicar para onde aponta o telhado.<br/>Sul = m√°xima efici√™ncia solar.</p>
            <div id="orientacao-label">S (180¬∞) ‚Äî Efici√™ncia: 100%</div>
          </div>
        </div>
      </div>

      <!-- FORM -->
      <div class="section-hdr" style="padding-top:12px;"><h4>Dados da Casa</h4></div>
      <div class="form-card">
        <h4>Preenche o formul√°rio</h4>
        <div class="form-group">
          <label class="form-label">√Årea do telhado (m¬≤)</label>
          <input id="input-area" class="form-input" type="number" value="45" placeholder="Ex: 45"/>
        </div>
        <div class="form-group">
          <label class="form-label">Consumo mensal m√©dio (kWh)</label>
          <input id="input-consumo" class="form-input" type="number" value="287" placeholder="Ex: 287"/>
        </div>
        <div class="form-group">
          <label class="form-label">Tipo de telhado</label>
          <select id="input-telhado" class="form-select">
            <option value="inclinado-sul">Inclinado Sul</option>
            <option value="inclinado-norte">Inclinado Norte</option>
            <option value="plano">Plano</option>
            <option value="misto">Misto</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Localiza√ß√£o</label>
          <select id="input-localizacao" class="form-select">
            <option value="norte">Norte (Porto, Braga)</option>
            <option value="centro">Centro (Coimbra)</option>
            <option value="lisboa" selected>Lisboa e Vale do Tejo</option>
            <option value="alentejo-algarve">Alentejo / Algarve</option>
          </select>
        </div>
        <button id="btn-calcular" class="btn-primary">‚òÄÔ∏è Calcular Recomenda√ß√£o</button>
      </div>

      <!-- RESULTS (hidden until calculate) -->
      <div id="solar-result" style="display:none;">

        <!-- CEN√ÅRIOS -->
        <div class="section-hdr" style="padding-top:14px;"><h4>Comparar Cen√°rios</h4></div>
        <div class="cenarios-card">
          <h4>Escolhe a configura√ß√£o</h4>
          <div id="cenarios-container"></div>
        </div>

        <!-- RESULT GRID -->
        <div class="result-solar" style="margin-top:12px;">
          <h3>‚úÖ Recomenda√ß√£o Goldenergy</h3>
          <div class="result-grid">
            <div class="result-item">
              <div class="r-val" id="r-paineis">‚Äî</div>
              <div class="r-lbl">Pain√©is recomendados</div>
            </div>
            <div class="result-item">
              <div class="r-val" id="r-potencia">‚Äî</div>
              <div class="r-lbl">Pot√™ncia instalada</div>
            </div>
            <div class="result-item">
              <div class="r-val" id="r-producao">‚Äî</div>
              <div class="r-lbl">Produ√ß√£o mensal</div>
            </div>
            <div class="result-item">
              <div class="r-val" id="r-cobertura">‚Äî</div>
              <div class="r-lbl">Cobertura consumo</div>
            </div>
          </div>
        </div>

        <!-- ROI -->
        <div class="roi-card">
          <h4>An√°lise de Retorno</h4>
          <div class="roi-row">
            <div class="roi-label">Custo instala√ß√£o</div>
            <div class="roi-value" id="r-custo">‚Äî</div>
          </div>
          <div class="roi-row">
            <div class="roi-label">Poupan√ßa mensal</div>
            <div class="roi-value green" id="r-poupanca-mes">‚Äî</div>
          </div>
          <div class="roi-row">
            <div class="roi-label">Poupan√ßa anual</div>
            <div class="roi-value green" id="r-poupanca-ano">‚Äî</div>
          </div>
          <div class="roi-row">
            <div class="roi-label">Payback</div>
            <div class="roi-value green" id="r-payback">‚Äî</div>
          </div>
          <div class="roi-row">
            <div class="roi-label">CO‚ÇÇ evitado/ano</div>
            <div class="roi-value green" id="r-co2">‚Äî</div>
          </div>
          <div class="roi-row">
            <div class="roi-label">√Årvores equivalentes</div>
            <div class="roi-value green" id="r-arvores">‚Äî</div>
          </div>
        </div>

        <!-- PAYBACK CHART -->
        <div class="payback-card">
          <h4>Gr√°fico de Retorno (15 anos)</h4>
          <svg id="payback-svg" viewBox="0 0 270 140" preserveAspectRatio="xMidYMid meet"></svg>
          <div class="payback-legend">
            <div class="payback-legend-item">
              <div class="legend-line" style="background:#2DDBA4;"></div>Poupan√ßa acumulada
            </div>
            <div class="payback-legend-item">
              <div class="legend-line" style="background:#f87171; border-top: 2px dashed #f87171; height:0;"></div>Investimento
            </div>
            <div class="payback-legend-item">
              <div class="legend-line" style="background:#F5C842;"></div>Break-even
            </div>
          </div>
        </div>

        <!-- GREEN SCORE DELTA -->
        <div class="score-delta-banner">
          <span>üåø</span>
          <span id="r-score-delta">+0 pontos no Green Score</span>
        </div>

      </div><!-- /solar-result -->

    </div><!-- /content -->
  </div><!-- /app-body -->
</div><!-- /phone -->

<script src="js/solar-match.js"></script>
</body>
</html>